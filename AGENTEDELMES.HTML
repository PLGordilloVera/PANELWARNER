<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentes Inmobiliarios del Mes</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cinzel', serif;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #000000;
            color: #ffcf2f;
            text-align: center;
            overflow-x: hidden; 
            padding: 30px 0;
            box-sizing: border-box;
        }

        /* --- Canvas de Part칤culas --- */
        #bg-canvas {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
        }

        /* --- ANIMACI칍N DE ENTRADA (SOLO AL CARGAR) --- */
        /* Esta clase maneja la transici칩n suave de 3 segundos */
        .fade-element {
            opacity: 0;
            transition: opacity 3s ease-in-out; 
            width: 100%;
            z-index: 1;
        }
        .fade-element.show { opacity: 1; }

        /* --- T칈TULO CON EFECTO BRILLO --- */
        #main-title {
            font-size: 4em; 
            text-transform: uppercase;
            letter-spacing: 5px;
            margin-bottom: 30px;
            line-height: 1.2;
            
            background: linear-gradient(to right, #b8860b 20%, #FFFACD 50%, #b8860b 80%);
            background-size: 200% auto;
            color: #FFD700;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            
            animation: shine 4s linear infinite;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        @keyframes shine {
            to { background-position: 200% center; }
        }

        /* Contenedor Agente */
        #current-agent-display {
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            margin-bottom: 40px; max-width: 700px; width: 90%;
            /* Sin transici칩n aqu칤 para que el cambio manual sea instant치neo */
        }

        #image-container {
            max-width: 450px; 
            border-radius: 8px; margin-bottom: 20px;
            overflow: hidden; border: 1px solid #FFD700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
            background-color: #000;
        }

        #agent-image { width: 100%; height: auto; display: block; border-radius: 5px; }
        
        #agent-name {
            font-size: 4em; text-transform: uppercase;
            letter-spacing: 4px; margin-bottom: 8px;
            text-shadow: 0 0 10px #FFD700;
        }

        #agent-month {
            font-size: 1.5em; letter-spacing: 3px; color: #FFD700;
        }

        /* Botones Historial */
        #history-section {
            max-width: 850px; width: 90%;
            padding: 10px 0; margin-top: 20px; 
        }

        #history-buttons {
            display: flex; flex-wrap: wrap; gap: 10px; 
            justify-content: center; padding: 10px 0; width: 100%;
        }

        .month-button {
            padding: 10px 18px; font-family: 'Cinzel', serif; font-size: 1em;
            background-color: rgba(0,0,0,0.3); color: #FFD700;
            border: 0.5px solid #FFD700; border-radius: 5px;
            cursor: pointer; transition: all 0.2s ease;
        }

        .month-button:hover, .month-button.active { 
            background-color: #FFD700; color: #000; box-shadow: 0 0 10px #FFD700;
        }

        /* M칰sica */
        #music-button {
            position: fixed; bottom: 20px; right: 20px;
            background-color: #FFD700; color: #000; border: none;
            border-radius: 50%; width: 50px; height: 50px;
            font-size: 1.5em; cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            z-index: 100; opacity: 0; transition: opacity 1s ease-in-out;
        }
        #music-button.show { opacity: 1; }
        
        @media (max-width: 768px) {
            #main-title { font-size: 2.2em; } 
            #image-container { max-width: 260px; } 
            #agent-name { font-size: 2em; }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <h1 id="main-title" class="fade-element">WARNER BIENES RAICES</h1>
    
    <div id="current-agent-display" class="fade-element">
        <div id="image-container">
            <img id="agent-image" src="alonso.png" alt="Agente">
        </div>
        <div id="agent-name">ALONSO CASTA칌O</div>
        <div id="agent-month">OCTUBRE 2025</div>
    </div>

    <div id="history-section" class="fade-element">
        <div id="history-buttons"></div>
    </div>

    <button id="music-button" title="Iniciar M칰sica">游꿧</button>
    <audio id="background-music" src="M칔SICA DE PEL칈CULAS_ GLADIADOR TEMA COMPLETO.mp4" loop preload="auto"></audio>

    <script>
        // --- 1. PART칈CULAS ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particlesArray = [];
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2.5; this.speedX = (Math.random() * 0.4) - 0.2;
                this.speedY = (Math.random() * 0.4) - 0.2; this.opacity = Math.random() * 0.5 + 0.1;
            }
            update() {
                this.x += this.speedX; this.y += this.speedY;
                if (Math.random() > 0.98) this.size = Math.random() * 2.5;
                if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
                if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
            }
            draw() {
                ctx.fillStyle = `rgba(255, 215, 0, ${this.opacity})`;
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
            }
        }
        function initParticles() {
            particlesArray = []; for (let i = 0; i < 100; i++) particlesArray.push(new Particle());
        }
        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) { particlesArray[i].update(); particlesArray[i].draw(); }
            requestAnimationFrame(animateParticles);
        }
        initParticles(); animateParticles();

        // --- 2. DATOS ---
        const agentsData = [
            { month: 'OCTUBRE 2025', name: 'ALONSO CASTA칌O', image: 'alonso_escracho.png', order: 10 },
            { month: 'SEPTIEMBRE 2025', name: 'ALONSO CASTA칌O', image: 'alonso_escracho.png', order: 9 },
            { month: 'AGOSTO 2025', name: 'ALONSO CASTA칌O', image: 'alonso_escracho.png', order: 8 },
            { month: 'JULIO 2025', name: 'MAURO BARRAZA', image: 'mauro.png', order: 7 },
            { month: 'JUNIO 2025', name: 'MAURO BARRAZA', image: 'mauro.png', order: 6 },
            { month: 'MAYO 2025', name: 'ANDREA VEDIA', image: 'andrea.png', order: 5 },
            { month: 'ABRIL 2025', name: 'ANDREA VEDIA', image: 'andrea.png', order: 4 },
            { month: 'MARZO 2025', name: 'MAURO BARRAZA', image: 'mauro.png', order: 3 },
            { month: 'FEBRERO 2025', name: 'ANDREA VEDIA', image: 'andrea.png', order: 2 },
            { month: 'ENERO 2025', name: 'MAURO BARRAZA', image: 'mauro.png', order: 1 },
        ];
        const currentAgentMonth = 'OCTUBRE 2025';
        
        // Elementos
        const mainTitle = document.getElementById('main-title');
        const currentAgentDisplay = document.getElementById('current-agent-display');
        const historySection = document.getElementById('history-section');
        const musicButton = document.getElementById('music-button');
        const backgroundMusic = document.getElementById('background-music');
        const agentNameElement = document.getElementById('agent-name');
        const agentImageElement = document.getElementById('agent-image');
        const agentMonthElement = document.getElementById('agent-month');
        const historyButtonsContainer = document.getElementById('history-buttons');
        let musicPlaying = false; 

        // --- 3. CAMBIO DE AGENTE (EST츼TICO) ---
        function displayAgent(agent) {
            // Cambio instant치neo de datos
            document.querySelectorAll('.month-button').forEach(btn => btn.classList.remove('active'));
            agentNameElement.textContent = agent.name;
            agentImageElement.src = agent.image; 
            agentImageElement.alt = `Agente: ${agent.name}`;
            agentMonthElement.textContent = agent.month;
            const activeBtn = Array.from(document.querySelectorAll('.month-button')).find(btn => btn.textContent === agent.month);
            if (activeBtn) activeBtn.classList.add('active');
        }

        // --- 4. SECUENCIA DE ENTRADA (CONTROLADA POR TIEMPO) ---
        function startFadeSequence() {
            // Tiempo 0: Aparece el T칤tulo
            setTimeout(() => { 
                mainTitle.classList.add('show'); 
            }, 500); // Peque침o delay inicial para que no sea brusco

            // 2 SEGUNDOS DESPU칄S de que empieza el t칤tulo (500 + 2000 = 2500)
            setTimeout(() => { 
                currentAgentDisplay.classList.add('show'); 
            }, 2500); 

            // El resto aparece un poco despu칠s
            setTimeout(() => { 
                historySection.classList.add('show'); 
                musicButton.classList.add('show'); 
            }, 4500);
        }

        // --- 5. L칍GICA GENERAL ---
        musicButton.addEventListener('click', () => {
            if (!musicPlaying) {
                backgroundMusic.play().then(() => {
                    musicPlaying = true; musicButton.textContent = '游댆'; musicButton.title = 'Silenciar';
                }).catch(e => console.error(e));
            } else {
                backgroundMusic.pause(); musicPlaying = false; musicButton.textContent = '游꿧'; musicButton.title = 'Reproducir';
            }
        });

        function generateHistoryButtons() {
            const currentAgent = agentsData.find(a => a.month === currentAgentMonth);
            agentNameElement.textContent = currentAgent.name;
            agentImageElement.src = currentAgent.image; 
            agentMonthElement.textContent = currentAgent.month;
            
            let allAgentsOrdered = [...agentsData].sort((a, b) => a.order - b.order);

            allAgentsOrdered.forEach(agent => {
                const button = document.createElement('button');
                button.className = 'month-button';
                button.textContent = agent.month;
                if (agent.month === currentAgentMonth) button.classList.add('active');
                button.addEventListener('click', () => displayAgent(agent));
                historyButtonsContainer.appendChild(button);
            });
        }
        
        generateHistoryButtons();
        window.addEventListener('load', startFadeSequence);
    </script>

</body>
</html>